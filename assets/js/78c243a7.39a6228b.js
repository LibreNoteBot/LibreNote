"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[416],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,h=p["".concat(s,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(h,l(l({ref:t},c),{},{components:n})):r.createElement(h,l({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,l=new Array(i);l[0]=p;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:o,l[1]=a;for(var u=2;u<i;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9443:function(e,t,n){var r=(0,n(7294).createContext)(void 0);t.Z=r},657:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return s},default:function(){return p},frontMatter:function(){return a},metadata:function(){return u},toc:function(){return c}});var r=n(7462),o=n(3366),i=(n(7294),n(3905));n(9443);var l=["components"],a={},s="Installation & Hosting Guide",u={unversionedId:"INSTALL",id:"INSTALL",isDocsHomePage:!1,title:"Installation & Hosting Guide",description:"LibreNote is a bot intended for self-hosting. This guide proves instructions for a rudimentary installation of LibreNote through either Docker (recommended) or Node.js.",source:"@site/docs/INSTALL.md",sourceDirName:".",slug:"/INSTALL",permalink:"/INSTALL",editUrl:"https://github.com/librenotebot/librenote/edit/main/docs/docs/INSTALL.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Contributing",permalink:"/CONTRIBUTING"},next:{title:"embedConstructor.js",permalink:"/code/utility/embedConstructor.js"}},c=[{value:"Preliminary Steps",id:"preliminary-steps",children:[]},{value:"Installation",id:"installation",children:[]}],d={toc:c};function p(e){var t=e.components,n=(0,o.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"installation--hosting-guide"},"Installation & Hosting Guide"),(0,i.kt)("p",null,"LibreNote is a bot intended for self-hosting. This guide proves instructions for a rudimentary installation of LibreNote through either Docker (recommended) or Node.js."),(0,i.kt)("h3",{id:"preliminary-steps"},"Preliminary Steps"),(0,i.kt)("h4",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Discord Application"),(0,i.kt)("div",null,(0,i.kt)("ol",null,(0,i.kt)("li",null,"Select ",(0,i.kt)("i",null,"New Application")),(0,i.kt)("li",null,"Enter a name for your application, then select ",(0,i.kt)("i",null,"Create")),(0,i.kt)("li",null,"Select ",(0,i.kt)("i",null,"Bot")," on the left panel and select ",(0,i.kt)("i",null,"Add Bot"),", confirm the action"),(0,i.kt)("li",null,"Add the bot to your servers."),(0,i.kt)("ul",null,(0,i.kt)("li",null,"https://discord.com/api/oauth2/authorize?client_id=CLIENTID&permissions=8&scope=bot%20applications.commands"),(0,i.kt)("li",null,"Replace ",(0,i.kt)("samp",null,"Client ID")," in the URL with the ",(0,i.kt)("i",null,"Application ID")," from the Application ",(0,i.kt)("i",null,"General Information"))),(0,i.kt)("li",null,"Take note of your ",(0,i.kt)("i",null,"Client ID")," from the ",(0,i.kt)("i",null,"General Information")," tab and ",(0,i.kt)("i",null,"Bot Token")," from the ",(0,i.kt)("i",null,"Bot")," tab")))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Spotify Client & Secret"),(0,i.kt)("div",null,(0,i.kt)("ol",null,(0,i.kt)("li",null,"Create or log into your ",(0,i.kt)("a",{href:"https://www.spotify.com/signup/"},"Spotify account")),(0,i.kt)("li",null,"Go to your ",(0,i.kt)("a",{href:"https://developer.spotify.com/dashboard/"},"Spotify Dashboard")),(0,i.kt)("li",null,"Select ",(0,i.kt)("i",null,"Create an app")),(0,i.kt)("li",null,"Enter an application name and description"),(0,i.kt)("li",null,"Read and agree to the developer terms & branding guidelines"),(0,i.kt)("li",null,"Select ",(0,i.kt)("i",null,"Create")),(0,i.kt)("li",null,"Take note of your ",(0,i.kt)("i",null,"Client ID")," and ",(0,i.kt)("i",null,"Client Secret"))))),(0,i.kt)("h4",{id:"constructing-the-env"},"Constructing the .env"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Create a file named ",(0,i.kt)("inlineCode",{parentName:"li"},".env")," and give it the following template:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"BOT_TOKEN=\nCLIENT_ID=\nSPOTIFY_CLIENT_ID=\nSPOTIFY_CLIENT_SECRET=\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"This file follows a ",(0,i.kt)("inlineCode",{parentName:"li"},"key=value")," pattern. Fill it out using the values noted from the prerequisite steps.")),(0,i.kt)("h3",{id:"installation"},"Installation"),(0,i.kt)("h4",{id:"docker"},"Docker"),(0,i.kt)("p",null,"LibreNote is provided as a Docker image, which you may run in a container. This is the recommended method for most hosts. Begin by ensuring that you have ",(0,i.kt)("a",{parentName:"p",href:"https://www.docker.com/"},"Docker")," and ",(0,i.kt)("a",{parentName:"p",href:"https://nodejs.org/"},"Node.js (v16)")," installed. You may also need to enable ",(0,i.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v"},"Windows HyperV")," for Docker on Windows to work."),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Redis"),(0,i.kt)("div",null,"Begin by installing and running Redis in Docker: ",(0,i.kt)("br",null),(0,i.kt)("code",null,"docker pull redis ",(0,i.kt)("br",null),"docker run --name main-redis -d -p 6379:6379 --restart=unless-stopped redis"))),(0,i.kt)("p",null,"When all requirements are met, and Redis is set up, you can install LibreNote in Docker. This can be done with the following commands. In the second command, replace ",(0,i.kt)("inlineCode",{parentName:"p"},"ENV_PATH")," with the relative or absolute path to the ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file created in the preliminary steps."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"docker pull ghcr.io/oprogram/librenote:latestdocker\ndocker run --name librenote --env-file=ENV_PATH -d --network=host --restart=unless-stopped ghcr.io/oprogram/librenote:latest\n")),(0,i.kt)("h4",{id:"nodejs"},"Node.js"),(0,i.kt)("p",null,"Those who elect to use avoid Docker, may also run LibreNote with Node.js (with or without a process manager). Hosts should be weary of this method, while it is much more easier to set up, there have been historical issues relating to the functioning of ytdl, a necessary LibreNote component. As such, it is recommended that most users stick to Docker hosting. For those who wish to use Node, ensure that you have installed ",(0,i.kt)("a",{parentName:"p",href:"https://nodejs.org/"},"Node.js (v16)"),", ",(0,i.kt)("a",{parentName:"p",href:"https://git-scm.com/downloads"},"Git")," and ",(0,i.kt)("a",{parentName:"p",href:"https://medium.com/@RedisLabs/windows-subsystem-for-linux-wsl-10e3ca4d434e"},"Redis (Windows Subsystem for Linux)")," or ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/microsoftarchive/redis/releases/tag/win-3.0.504"},"Redis (Legacy, unmaintained windows port)"),"."),(0,i.kt)("p",null,"Begin by cloning the LibreNote Git repository to a location where you may ensure that it stays."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"git clone https://github.com/oprogram/LibreNote.git\ncd librenote\n")),(0,i.kt)("p",null,"At this point, you should wish to move your previously created ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file to the new LibreNote directory which you have cloned. Thereafter, install LibreNote's dependencies and start the bot."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"npm install\nnode dev/commands.js\nnode dev/run.js\n")),(0,i.kt)("p",null,"At this point, if no errors are displayed, you may stop the bot via ",(0,i.kt)("kbd",null,"Ctrl + C"),". You may also set up your desired process manager now."),(0,i.kt)("p",null,"To start the bot again, simply execute:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"node dev/commands.js\nnode dev/run.js\n")))}p.isMDXComponent=!0}}]);